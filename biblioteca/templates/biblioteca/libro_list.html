{% extends 'biblioteca/base.html'%} {% block content %}

<div class="row">
  <div class="col-md-6">
    <h1>Lista de libros</h1>
  </div>
  <div class="col-md-6">
    <form action="{% url  'buscar' %}" method="GET" class="d-flex mt-4">
      <input
        type="text"
        name="titulo"
        class="form-control"
        placeholder="Buscar"
      />
      {% csrf_token %}
      <button type="submit" class="btn btn-primary">Buscar</button>
    </form>
    <a
      href="{% url 'libros_disponibles' usuario=request.user %}"
      class="btn btn-primary text-end"
    >
      Libros Disponibles
    </a>
    <a href="{% url 'crear'%}" class="btn btn-primary">Crear libro</a>
    <a href="{% url 'mis_libros' %}" class="btn btn-primary">Mis libros</a>
  </div>
</div>

{% if libro_list is empty %}
<p>No hay libros en la biblioteca.</p>
{% else %}
<style>
  .listado-libros {
    list-style: none;
    padding: 0;
  }
  .listado-libros li {
    margin-bottom: 1rem;
  }
  .listado-libros li strong {
    display: inline-block;
    width: 100px;
  }
</style>
<div class="row mt-5 mb-5">
  {% for libro in libro_list %}
  <div class="row shadow-lg p-3">
    <div class="col-md-8">
      <ul class="listado-libros">
        <li class="">
          <strong>TÃ­tulo:</strong>
          {{ libro.titulo }}
          <br />
          <strong>Autor:</strong>
          {{ libro.autor }}
          <br />
          <strong>Editorial:</strong>
          {{ libro.editorial }}
          <br />
          <strong>Valoracion:</strong>
          <!--Filtrar que el numero de estrellas sea el numero de valoracion-->
          <br />
        </li>
      </ul>
    </div>
    <div class="col-md-4">
      {%if libro.portada%}
      <img
        src="{{ libro.portada.url}}"
        alt="{{
          libro.titulo
          }}"
        class="img-fluid d-flex justify-content-end"
      />
      {%endif%}
    </div>
  </div>

  <div class="my-3">
    <a href="{% url 'detalles' libro.pk %}" class="btn btn-primary">
      Ver detalle
    </a>
    <a href="{% url 'editar' libro.pk %}" class="btn btn-warning">
      Editar libro
    </a>
    <a href="{% url 'borrar' libro.pk %}" class="btn btn-danger">
      Eliminar libro
    </a>
  </div>

  {% endfor %}
</div>
{% endif %} {% endblock content%}
